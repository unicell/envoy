filebeat:
  # List of prospectors to fetch data.
  prospectors:
    # Each - is a prospector. Below are the prospector specific configurations
    - type: log
      enabled: true
      paths:
        - /var/log/envoy_access.log
      fields_under_root: true
      fields:
        type: envoy-access

    -
      paths:
        - "-"
      input_type: stdin 
      document_type: stdin

tags: ["envoy"]

logging:
  level: info
  to_syslog: false

output:
  elasticsearch:
    enabled: false
    hosts:
      - elasticsearch:9200
    worker: 1
    max_retries: 3
    timeout: 90
    #index: "filebeat-%{[beat.version]}-%{+yyyy.MM.dd}"


  logstash:
    enabled: true
    hosts:
      - logstash:5044
    worker: 1
    pipelining: 5
    loadbalance: false
    index: 'filebeat'

    #tls: 
      # The path to your trusted SSL CA file. This is used
      # to authenticate your downstream server.
      #certificate_authorities:
        #- /home/stack/lumberjack/logstash-forwarder.crt

    # Network timeout in seconds.
    timeout: 15
